<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <title>完整demo</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <script type="text/javascript" charset="utf-8" src="ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="ueditor.all.min.js"> </script>
    <!--建议手动加在语言，避免在ie下有时因为加载语言失败导致编辑器加载失败-->
    <!--这里加载的语言文件会覆盖你在配置项目里添加的语言类型，比如你在配置项目里配置的是英文，这里加载的中文，那最后就是中文-->
    <script type="text/javascript" charset="utf-8" src="lang/zh-cn/zh-cn.js"></script>

    <style type="text/css">
        div {
            width: 100%;
        }

        .con {
            margin: 0 15px;
        }

        h3 {
            font-weight: normal;
        }

        #title {
            outline: none;
            width: 410px;
            height: 30px;
            line-height: 25px;
            padding-left: 10px;
            border: solid #CCC 1px;
            border-radius: 4px;
        }

        textarea {
            border: solid #CCC 1px;
            border-radius: 4px;
            text-align: left;
            padding: 5px 10px;
        }

        #commit {
            width: 400px;
            height: 40px;
            background: #0099FF;
            display: block;
            color: #fff;
            border: none;
            border-radius: 4px;
            margin: 30px auto;
            font-size: 18px;
        }
    </style>
</head>

<body>
    <div>
        <div class="con">
            <p>起一个标题:</p>
            <input type="text" id="title">
            <p>介绍文章:</p>
            <textarea name="markText" id="markText" style="width: 410px; font-size: 16px; line-height: 23px; font-family: 微软雅黑;  
                max-width: 400px; height: 150px; max-height: 150px; outline: 0;">asaass</textarea>
            <p>请上传一张图片:</p>
            <form id="uploadForm">
                <input type="file" id="pic" name="selfile">
            </form>
            <h3>写一点东西:</h3>
        </div>
        <script id="editor" type="text/plain" style="width:1088px;height:500px; margin: 0px 15px"></script>
    </div>
    <div id="btns">
        <div style="width: 100%">
            <button onclick="getContent()" id="commit">发表</button>
        </div>
    </div>
    <script src="jquery.js"></script>

    <script type="text/javascript">

        //实例化编辑器
        //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
        var ue = UE.getEditor('editor');
        function getContent() {
            var arr = [];
            arr.push("使用editor.getContent()方法可以获得编辑器的内容");
            arr.push("内容为：");
            arr.push(UE.getEditor('editor').getContent());
            // alert(arr.join("\n"));
            $.ajax({
                url: "120.79.203.248:9000/editor",
                type: "post",
                data: {
                    e_title: $("#title").val(),
                    e_describe: $("#markText").text(),
                    e_content: UE.getEditor('editor').getContent(),
                    u_name: "liuchuzhang"
                },
            }).done(function (res) {
                console.log(res);
                if (res.status == 1) {
                    $.ajax({
                        url: "120.79.203.248:9000/editorimg",
                        type: "post",
                        data: new FormData($('#uploadForm')[0]),
                    }).done(function (res) {
                        console.log(res);
                    })
                }
            })

        }

    </script>
</body>

</html>